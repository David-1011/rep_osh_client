import{createStore}from"vuex";import axios from"axios";import masterData from"./modules/master-data";import personalData from"./modules/personal-data";import incidentData from"./modules/incident-data";import injuryData from"./modules/injury-data";import router from"../router";const state={},mutations={test:(state,value)=>{console.log(state),console.log(value)}},actions={postIncident:async()=>{const params={personalData:personalData.state,incidentData:incidentData.state,injuryData:injuryData.state};axios.post("https://osh-restapi.azurewebsites.net/api/incidents/",params).then(()=>{store.dispatch("resetPersonalData"),store.dispatch("resetIncidentData"),store.dispatch("resetInjuryData"),router.push("/")}).catch(err=>console.log(err))}},store=createStore({state:state,mutations:mutations,actions:actions,modules:{masterData:masterData,personalData:personalData,incidentData:incidentData,injuryData:injuryData}});export default store;