{"version":3,"sources":["webpack:///./src/views/EditIncident.vue","webpack:///./src/components/ui/EditPersonData.vue","webpack:///./src/components/ui/EditPersonData.vue?2658","webpack:///./src/views/EditIncident.vue?2887"],"names":["class","getPeopleIds","e","key","incidentId","id","personId","for","locked","loading","unlockInput","icon","edit","undoChanges","saveChanges","pulse","type","person","firstName","disabled","lastName","name","props","data","this","created","p","$store","getters","PersonDataById","methods","setPersonData","then","res","console","log","catch","err","render","components","EditPersonData","$route","params","moderatorStore","state","moderatorData","incidents","length","getIncident","undefined","setIncident","fetchIncidents","computed"],"mappings":"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","file":"js/chunk-2d0d7312.81cd80ae.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <EditPersonData\r\n      v-for=\"e in getPeopleIds\"\r\n      :key=\"e\"\r\n      :incidentId=\"id\"\r\n      :personId=\"e\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditPersonData from \"../components/ui/EditPersonData\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"EditIncident\",\r\n  components: {\r\n    EditPersonData\r\n  },\r\n  data() {\r\n    return {\r\n      id: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchIncidents\", \"setIncident\"])\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id;\r\n    const moderatorStore = this.$store.state.moderatorData.incidents.length;\r\n    if (moderatorStore != 0) {\r\n      const p = this.$store.getters.getIncident(this.id);\r\n      if (p !== undefined) {\r\n        this.setIncident(p);\r\n      }\r\n    } else {\r\n      this.fetchIncidents().then(() => {\r\n        const p = this.$store.getters.getIncident(this.id);\r\n        if (p !== undefined) {\r\n          this.setIncident(p);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getPeopleIds\"])\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header bg-success text-white\">\r\n      <div class=\"d-inline me-auto\">Verletzte Person</div>\r\n      <div\r\n        v-if=\"locked && !loading\"\r\n        class=\"d-inline float-end px-1\"\r\n        @click=\"unlockInput\"\r\n      >\r\n        <font-awesome-icon icon=\"edit\" />\r\n      </div>\r\n\r\n      <div v-if=\"edit\" class=\"d-inline float-end px-1\" @click=\"undoChanges\">\r\n        <font-awesome-icon icon=\"window-close\" />\r\n      </div>\r\n      <div v-if=\"edit\" class=\"d-inline float-end px-1\" @click=\"saveChanges\">\r\n        <font-awesome-icon icon=\"save\" />\r\n      </div>\r\n      <div v-if=\"loading\" class=\"d-inline float-end px-1\" @click=\"undoChanges\">\r\n        <font-awesome-icon icon=\"spinner\" pulse />\r\n      </div>\r\n    </div>\r\n    <div class=\"card-body row\">\r\n      <div class=\"col-4\">\r\n        <div class=\"form-floating\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"firstName1\"\r\n            v-model=\"person.firstName\"\r\n            :disabled=\"locked\"\r\n          />\r\n          <label for=\"firstName1\">Vorname</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-4\">\r\n        <div class=\"form-floating\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"lastName1\"\r\n            v-model=\"person.lastName\"\r\n            :disabled=\"locked\"\r\n          />\r\n          <label for=\"lastName1\">Nachname</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"EditPersonData\",\r\n  props: [\"personId\", \"incidentId\"],\r\n  data() {\r\n    return {\r\n      id: this.incidentId,\r\n      locked: true,\r\n      edit: false,\r\n      loading: false,\r\n      person: {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        id: this.personId\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    const p = this.$store.getters.PersonDataById(this.id, this.person.id);\r\n    this.person.firstName = p.firstName;\r\n    this.person.lastName = p.lastName;\r\n  },\r\n  methods: {\r\n    ...mapActions([\"setPersonData\"]),\r\n    unlockInput() {\r\n      this.edit = true;\r\n      this.locked = false;\r\n    },\r\n    undoChanges() {\r\n      this.edit = false;\r\n      this.locked = true;\r\n      const p = this.$store.getters.PersonDataById(this.id, this.person.id);\r\n      this.person.firstName = p.firstName;\r\n      this.person.lastName = p.lastName;\r\n    },\r\n    saveChanges() {\r\n      this.edit = false;\r\n      this.locked = true;\r\n      this.loading = true;\r\n      const p = this.$store.getters.PersonDataById(this.id, this.person.id);\r\n      if (\r\n        p.firstName != this.person.firstName ||\r\n        p.lastName != this.person.lastName\r\n      ) {\r\n        this.setPersonData(this.person, this.id)\r\n          .then(res => {\r\n            console.log(res);\r\n            this.loading = false;\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./EditPersonData.vue?vue&type=template&id=1d79f538\"\nimport script from \"./EditPersonData.vue?vue&type=script&lang=js\"\nexport * from \"./EditPersonData.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EditIncident.vue?vue&type=template&id=7ad6fa2a\"\nimport script from \"./EditIncident.vue?vue&type=script&lang=js\"\nexport * from \"./EditIncident.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}