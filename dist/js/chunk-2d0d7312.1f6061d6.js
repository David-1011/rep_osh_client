(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7312"],{7685:function(e,t,n){"use strict";n.r(t);var s=n("7a23"),i={class:"container"};function a(e,t,n,a,c,d){var o=Object(s["w"])("EditPersonData");return Object(s["p"])(),Object(s["d"])("div",i,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(e.getPeopleIds,(function(e){return Object(s["p"])(),Object(s["d"])(o,{key:e,incidentId:c.id,personId:e},null,8,["incidentId","personId"])})),128))])}var c=n("5530"),d={class:"card"},o={class:"card-header bg-success text-white"},r=Object(s["g"])("div",{class:"d-inline me-auto"},"Verletzte Person",-1),l={class:"card-body row"},p={class:"col-4"},u={class:"form-floating"},b=Object(s["g"])("label",{for:"firstName1"},"Vorname",-1),h={class:"col-4"},f={class:"form-floating"},j=Object(s["g"])("label",{for:"lastName1"},"Nachname",-1);function O(e,t,n,i,a,c){var O=Object(s["w"])("font-awesome-icon");return Object(s["p"])(),Object(s["d"])("div",d,[Object(s["g"])("div",o,[r,a.locked&&!a.loading?(Object(s["p"])(),Object(s["d"])("div",{key:0,class:"d-inline float-end px-1",onClick:t[1]||(t[1]=function(){return c.unlockInput&&c.unlockInput.apply(c,arguments)})},[Object(s["g"])(O,{icon:"edit"})])):Object(s["e"])("",!0),a.edit?(Object(s["p"])(),Object(s["d"])("div",{key:1,class:"d-inline float-end px-1",onClick:t[2]||(t[2]=function(){return c.undoChanges&&c.undoChanges.apply(c,arguments)})},[Object(s["g"])(O,{icon:"window-close"})])):Object(s["e"])("",!0),a.edit?(Object(s["p"])(),Object(s["d"])("div",{key:2,class:"d-inline float-end px-1",onClick:t[3]||(t[3]=function(){return c.saveChanges&&c.saveChanges.apply(c,arguments)})},[Object(s["g"])(O,{icon:"save"})])):Object(s["e"])("",!0),a.loading?(Object(s["p"])(),Object(s["d"])("div",{key:3,class:"d-inline float-end px-1",onClick:t[4]||(t[4]=function(){return c.undoChanges&&c.undoChanges.apply(c,arguments)})},[Object(s["g"])(O,{icon:"spinner",pulse:""})])):Object(s["e"])("",!0)]),Object(s["g"])("div",l,[Object(s["g"])("div",p,[Object(s["g"])("div",u,[Object(s["F"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"firstName1","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.person.firstName=e}),disabled:a.locked},null,8,["disabled"]),[[s["C"],a.person.firstName]]),b])]),Object(s["g"])("div",h,[Object(s["g"])("div",f,[Object(s["F"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"lastName1","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.person.lastName=e}),disabled:a.locked},null,8,["disabled"]),[[s["C"],a.person.lastName]]),j])])])])}var g=n("5502"),m={name:"EditPersonData",props:{personId:{type:String,required:!0},incidentId:{type:String,required:!0}},data:function(){return{id:this.incidentId,locked:!0,edit:!1,loading:!1,person:{firstName:"",lastName:"",id:this.personId}}},created:function(){var e=this.$store.getters.PersonDataById(this.id,this.person.id);this.person.firstName=e.firstName,this.person.lastName=e.lastName},methods:Object(c["a"])(Object(c["a"])({},Object(g["b"])(["setPersonData"])),{},{unlockInput:function(){this.edit=!0,this.locked=!1},undoChanges:function(){this.edit=!1,this.locked=!0;var e=this.$store.getters.PersonDataById(this.id,this.person.id);this.person.firstName=e.firstName,this.person.lastName=e.lastName},saveChanges:function(){var e=this;this.edit=!1,this.locked=!0,this.loading=!0;var t=this.$store.getters.PersonDataById(this.id,this.person.id);t.firstName==this.person.firstName&&t.lastName==this.person.lastName||this.setPersonData(this.person,this.id).then((function(t){console.log(t),e.loading=!1})).catch((function(e){console.log(e)}))}})};m.render=O;var v=m,I={name:"EditIncident",components:{EditPersonData:v},data:function(){return{id:""}},methods:Object(c["a"])({},Object(g["b"])(["fetchIncidents","setIncident"])),created:function(){var e=this;this.id=this.$route.params.id;var t=this.$store.state.moderatorData.incidents.length;if(0!=t){var n=this.$store.getters.getIncident(this.id);void 0!==n&&this.setIncident(n)}else this.fetchIncidents().then((function(){var t=e.$store.getters.getIncident(e.id);void 0!==t&&e.setIncident(t)}))},computed:Object(c["a"])({},Object(g["c"])(["getPeopleIds"]))};I.render=a;t["default"]=I}}]);
//# sourceMappingURL=chunk-2d0d7312.1f6061d6.js.map